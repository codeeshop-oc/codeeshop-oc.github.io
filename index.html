<!DOCTYPE html>
<html>
<title>Vue Full Autocomplete Code-E-Shop</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Caveat">

<style>
body {
   font-family: 'Caveat';
  display: block;
  margin: 0;
}
.newbutton {
  margin: auto;
  display: inline-block;
  margin: 15px 15px 0;
}
.text-center {
  text-align: center;
}
.fixheight {
  width: 550px;
}
#app {
    margin: auto;
}
@media (min-width: 601px) {
  #app {
    display: table;
  }
}
@media (max-width: 800px) {
  .fixheight {
    width: 450px;
  }
}
@media (max-width: 600px) {
  .fixheight {
    width: 100%;
  }
}
</style>
<body>

<div class="bgimg w3-display-container w3-animate-opacity w3-text-white">
  <div id="app">
    <h2>Default</h2>
    <div class="fixheight">
      <div class="text-center">
      <button
        @click="visible = true; selected_item = {}"
        class="newbutton"
        >Open Popup <small>( Load on Start )</small></button>

      <button
        @click="visible2 = true; selected_item = {}"
        class="newbutton"
        >Open Popup 2 <small>( Not Load on Start )</small></button>
    </div>

      <p v-if="selected_item">Results: {{this.selected_item}}</p>


      <!-- <vue-full-autocomplete :items="images" /> -->
      <vue-full-autocomplete
        ref="VueFullAutocomplete"
        :visible="visible"
        @close="visible = false"
        @selected="selected"
        :headers="headers"
        url="https://jsonplaceholder.typicode.com/users"
        />

      <vue-full-autocomplete
        ref="VueFullAutocomplete2"
        :visible="visible2"
        @close="visible2 = false"
        @selected="selected"
        url="https://jsonplaceholder.typicode.com/users"
        />
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
  <script src="https://unpkg.com/vue-full-autocomplete@1.0.0/dist/VueFullAutocomplete.min.js" type="text/javascript" ></script>
  <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
</div>

<script type="text/javascript">
  let s = document.createElement("script");
  s.type = "text/javascript";
  s.src = "https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js";
  document.body.appendChild(s);

  let s2 = document.createElement("link");
  s2.type = "text/css";
  s2.rel = "stylesheet";
  s2.href = "https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css";
  document.body.appendChild(s2);

  var app5 = new Vue({
    el: '#app',
    data() {
      return {
        selected_item: {},
        visible: false,
        visible2: false,
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        }
      }
    },
    components: {
      VueFullAutocomplete
    },
    mounted() {
      console.log(this.$refs.VueFullAutocomplete.searchResults())
    },
    methods: {
      selected(item) {
        this.selected_item = item
        console.log(item, 'item')
      }
    }
  })

</script>

</body>
</html>